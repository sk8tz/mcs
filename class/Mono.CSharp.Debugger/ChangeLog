2002-03-29  Martin Baulig  <martin@gnome.org>

	* AssemblerWriterI386.cs: Rewrote most of the string output function, do the
	number->string conversion manually. It's now taking about 15 seconds to write
	a symbol file for MCS, no longer more than a minute.

	* MonoDwarfFileWriter.cs: Added some profiling code, speeded things up, fixed
	a few bugs.

2002-03-25  Martin Baulig  <martin@gnome.org>

	* MonoDwarfFileWriter.cs (CreateType): Return a `DieType'.
	(RegisterType): Add the type to the type hash before creating dependency types
	so we don't get recursion loops.
	(RegisterPointerType): New func to register a "pointer to type" type.
	(DieTypeDef, DiePointerType, DieArrayType, DieStringType, DieClassType): New
	types; added support for strings, arrays and basic support for classes.
	
2002-03-24  Martin Baulig  <martin@gnome.org>

	* IMonoSymbolWriter.cs: Killed all methods in this interface, no longer needed.

	* MonoSymbolWriter.cs (MonoSymbolWriter): The constructor now takes a string
	argument which is the full pathname of the assembly - you must call Close()
	after the assembly has been written to disk since the symbol writer needs to
	load the finished assembly to get its metadata.

	* MonoDwarfFileWriter.cs: Added support for enums and structs.
	
2002-03-24  Martin Baulig  <martin@gnome.org>

	* MonoDwarfFileWriter.cs: Added support for method parameters.

2002-03-24  Martin Baulig  <martin@gnome.org>

	* IMonoSymbolWriter.cs (IMonoSymbolWriter): Removed my custom OpenMethod(),
	we're now using the ISymbolWriter's method.
	(IVariable): Added `byte[] Signature' property.

	* MonoSymbolWriter.cs (SetAssembly): New method. This must be called before
	Close(); the assembly parameter is the already-written assembly, ie. it must
	contain the full metadata.
	(OpenMethod): Only take the token argument and set MethodInfo later in DoFixups.
	(SetMethodSourceRange): You must call this function to tell the symbol writer
	in which source file the method is defined.
	(DefineLocal): Store the signature in the local.
	(DoFixups): Use two new interncalls to set the SourceMethod's MethodInfo field
	and the LocalVariable's Type field.

2002-03-23  Martin Baulig  <martin@gnome.org>

	* IMonoSymbolWriter.cs (ISourceBlock): New interface.
	(ILocalVariable): Renamed this interface to IVariable.
	(IVariable): Added Line, Type, Token.
	(ILocalVariable, IMethodParameter): New interfaces, derive from IVariable.
	(ISourceMethod): Added Blocks. Renamed FirstLine and LastLine to Start and End,
	changed their type to ISourceLine. Removed CodeSize.
	(ISourceLine): Renamed Line to Row, added Column. Added OffsetType and Offset.

	* MonoDwarfFileWriter.cs (MonoDwarfFileWriter.DieLexicalBlock): New class.
	(MonoDwarfFileWriter.DieMethodVariable): New class.

	* MonoSymbolWriter.cs (OpenScope, CloseScope): Implemented.
	Reflected latest IMonoSymbolWriter interface changes.

2002-03-20  Martin Baulig  <martin@gnome.org>

	* IAssemblerWriter.cs: New interface.

	* AssemblerWriterI386.cs: New class.

	* MonoDwarfFileWriter.cs: Use the IAssemblerWriter interface to make this class
	platform and assembler independent.

2002-03-20  Martin Baulig  <martin@gnome.org>

	* IMonoSymbolWriter.cs (ISourceMethod): Added FirstLine, LastLine, CodeSize and
	Token properties.

	* MonoDwarfFileWriter.cs: Implemented line number support.

2002-03-19  Martin Baulig  <martin@gnome.org>

	* IMonoSymbolWriter.cs (ISourceFile, ISourceMethod, ISourceLine, ILocalVariable):
	New interfaces.

	* IMonoSymbolWriter.cs (OpenMethod): Take a System.Reflection.MethodInfo, not
	a string.

2002-03-19  Martin Baulig  <martin@gnome.org>

	This is an implementation of the System.Diagnostics.SymbolStore.SymbolWriter
	interface. It's still work in progress and not yet used anywhere.

	There is some preliminary documentation in the source files and some more
	docu in the README and README.relocation-table files.

	* IMonoSymbolWriter.cs: New file.
	* MonoDwarfFileWriter.cs: New file.
	* MonoSymbolDocumentWriter.cs: New file.
	* MonoSymbolWriter.cs: New file.

	* README, README.relocation-table: Documentation.


thisdir = class/Npgsql
SUBDIRS = 

OVERRIDE_BARE_TARGETS = 1


include ../../build/rules.make

LIBRARY = Npgsql.dll


LIB_MCS_FLAGS = /r:$(corlib) /r:System.dll /r:System.Xml.dll \
		/r:System.Data.dll /r:System.Drawing.dll \
		/r:System.Windows.Forms.dll /r:System.Design.dll \
		/r:Mono.Security.dll \
		@Npgsql.dll.resources

TEST_MCS_FLAGS = /r:$(corlib) /r:System.dll /r:System.Xml.dll \
		 /r:System.Web.dll /r:System.Data.dll

LIB_MCS_FLAGS_RESOURCES = $(LIB_MCS_FLAGS) 

# TODO: We need System.Web.UI.WebControls to build DataAdapterTests.cs
# and DataReaderTests.cs

EXTRA_DISTFILES = \
	LICENSE.txt		\
	README.txt		\
	RELEASENOTES.txt	\
	STATUS.txt		\
	TODO.txt		\
	Npgsql/Npgsql.snk	\
	Npgsql/Npgsql.xml

include ../../build/library.make

RESX_RES = Npgsql/NpgsqlState.resources Npgsql/NpgsqlClosedState.resources Npgsql/NpgsqlParameterCollection.resources Npgsql/NpgsqlCommand.resources Npgsql/NpgsqlConnectedState.resources Npgsql/NpgsqlParameter.resources Npgsql/NpgsqlConnection.resources Npgsql/NpgsqlReadyState.resources Npgsql/NpgsqlTransaction.resources Npgsql/NpgsqlEventLog.resources Npgsql/NpgsqlException.resources Npgsql/PGUtil.resources NpgsqlTypes/NpgsqlTypesHelper.resources Npgsql/Design/ConnectionStringEditorForm.resources

all: $(RESX_RES) $(the_lib)

%.resources: %.resx
	MONO_PATH=$(topdir)/class/lib/$(PROFILE):$$MONO_PATH $(INTERNAL_RESGEN) $<

clean: clean-recursive clean-local

install: install-recursive install-local

uninstall: uninstall-recursive uninstall-local

test: test-recursive test-local

run-test: run-test-recursive test-local run-test-local

clean: clean-recursive clean-local

uninstall: uninstall-recursive uninstall-local


run-test: Test1.dll
	nunit-console2 Test1.dll -out:res.log

Test1.dll: NunitWeb.dll Test1/Class1.cs Makefile
	gmcs -r:nunit.framework -r:System.Web -r:NunitWeb -target:library -r:System.Drawing -out:Test1.dll Test1/Class1.cs


NunitWeb.dll: NunitWeb/Helper.cs NunitWeb/MyHandler.cs NunitWeb/MyHost.cs NunitWeb/Resources/My.master NunitWeb/Resources/MyPage.aspx NunitWeb/Resources/MyPage.aspx.cs NunitWeb/Resources/MyPageWithMaster.aspx NunitWeb/Resources/MyPageWithMaster.aspx.cs NunitWeb/Resources/Web.config Makefile
	gmcs -r:System.configuration -r:System.Web NunitWeb/Helper.cs NunitWeb/MyHandler.cs NunitWeb/MyHost.cs -resource:NunitWeb/Resources/My.master,NunitWeb.Resources.My.master -resource:NunitWeb/Resources/MyPage.aspx,NunitWeb.Resources.MyPage.aspx -resource:NunitWeb/Resources/MyPage.aspx.cs,NunitWeb.Resources.MyPage.aspx.cs -resource:NunitWeb/Resources/MyPageWithMaster.aspx,NunitWeb.Resources.MyPageWithMaster.aspx -resource:NunitWeb/Resources/MyPageWithMaster.aspx.cs,NunitWeb.Resources.MyPageWithMaster.aspx.cs -resource:NunitWeb/Resources/Web.config,NunitWeb.Resources.Web.config -target:library -out:NunitWeb.dll

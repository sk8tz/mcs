2005-01-04  Atsushi Enomoto <atsushi@ximian.com>

	* RdpPattern.cs :
	  - Implemented textOnlyDeriv and mixedTextDeriv of "memoization".
	    Details are described in the "derivative" algorithm:
	    http://www.thaiopensource.com/relaxng/derivative.html#Memoization
	  - Added MakeChoiceLeaf() to implement "choice-leaves":
	    http://www.thaiopensource.com/relaxng/derivative.html#Avoiding_exponential_blowup
	  - To intern effectively, reorder choice and interleave contents by
	    hash code.
	  - Avoid extra pattern creation with related to empty and notAllowed
	    as one hand of binary branches.

2005-01-03  Atsushi Enomoto <atsushi@ximian.com>

	* RdpPattern.cs : reduced RdpFlip instantiation. Share patternPool
	  only when it does not exist.

2005-01-03  Atsushi Enomoto <atsushi@ximian.com>

	* Util.cs, RdpPatterns.cs : optimization. Removed extraneous
	  delegate instantiation. Avoid using enum for HashTable keys.

2005-12-27  Atsushi Enomoto <atsushi@ximian.com>

	* Util.cs RdpObjects.cs RdpContentType.cs RdpNameClasses.cs
	  RdpPatterns.cs :

	  ... and svn:eol-style as well, since there is exactly no one else
	  who develops this assembly and messes no one else.

2005-12-27  Atsushi Enomoto <atsushi@ximian.com>

	* Util.cs RdpObjects.cs RdpContentType.cs RdpNameClasses.cs
	  RdpPatterns.cs :

	  Ugh, seems like svn server shows different diffs than that of
	  client. Anyways here I fixed all mixed line endings.

2005-12-27  Atsushi Enomoto <atsushi@ximian.com>

	* RdpPatterns.cs : in ValueMatch() it should not strip whitespaces
	  which could be validated. This fixes test #256/2.i.xml.

2005-12-27  Atsushi Enomoto <atsushi@ximian.com>

	* RdpPatterns.cs : oneOrMore ancestor check for anyName/nsName in
	  section 7.3 was missing. This fixes test #357, #358 and #359.
	* RdpNameClass.cs : added HasInfiniteName property to RdpNameClass.

2005-12-27  Atsushi Enomoto <atsushi@ximian.com>

	* RdpPattern.cs, RdpUtil.cs : reimplemented name class analysis to
	  not create extraneous QName instances. This also fixes some weird
	  bugs (test #362 and #363).

2005-12-27  Atsushi Enomoto <atsushi@ximian.com>

	* RdpPattern.cs : Checking interleave restriction in section 7.4 with
	  PatternType was not insufficient. Now I use ContainsText(). It fixes
	  testcase #371.

2005-12-20  Atsushi Enomoto <atsushi@ximian.com>

	* RdpPattern.cs : cache ContentType and save speed.

2005-09-20  Atsushi Enomoto <atsushi@ximian.com>

	* Util.cs : Added name class analysis support. The algorithm is at
	  http://www.thaiopensource.com/relaxng/nameclass.html .
	* RdpPattern.cs :
	  - added CheckNameOverlap() for group and interleave to do name class
	    analysis (spec 7.3 and 7.4).
	  - Removed CheckAttributeDuplicates(). Now name class analysis is
	    implemented in CheckNameOverlap().
	  - Added additional bool parameter to GetLabels() to collect
	    RdpNameClass instances instead of XmlQualifiedName instances.

2005-07-31  Atsushi Enomoto <atsushi@ximian.com>

	* RdpPattern.cs : GetLabels() for RdpGroup should check attributes
	  when the left branch is not nullable (it works like an interleave).
	  Implemented spec 7.3 attribute check (though not enabled for now).

2005-04-11  Atsushi Enomoto <atsushi@ximian.com>

	* Util.cs : tiny debug string fix.

2005-03-01  Atsushi Enomoto <atsushi@ximian.com>

	* RdpPattern.cs : In "textDeriv(group p1 p2) s", "nullable p1" is
	  incorrectly computed as "nullable p".

2005-02-06  Atsushi Enomoto <atsushi@ximian.com>

	* RdpObjects.cs : provide error type name. removed commented code block.

2005-02-06  Atsushi Enomoto <atsushi@ximian.com>

	* RdpPattern.cs : MakeOneOrMore() did not always set up internal table.

2004-12-06  Atsushi Enomoto <atsushi@ximian.com>

	* Util.cs : trivial debug string fix.
	* RdpPattern.cs : trivial formatting fix.

2004-12-06  Atsushi Enomoto <atsushi@ximian.com>

	* RdpPattern.cs : The last attribute stuff broke usual validation wrt
	  global attributes.

2004-12-06  Atsushi Enomoto <atsushi@ximian.com>

	* RdpPattern.cs : fixed setupTable(). Avoid boxing.

2004-12-05  Atsushi Enomoto <atsushi@ximian.com>

	* RdpPattern.cs : RdpAttribute now omits value check when the argument
	  value is null. It is useful to get labels.

2004-12-05  Atsushi Enomoto <atsushi@ximian.com>

	* RdpPattern.cs : added GetLabels().

2004-06-25  Atsushi Enomoto <atsushi@ximian.com>

	* RdpContentType.cs, RdpNameClass.cs, RdpObjects.cs, RdpPatterns.cs,
	  Util.cs : added novell license term.

2004-06-21  Atsushi Enomoto <atsushi@ximian.com>

	* RdpPatterns.cs : Fixed ExpandRef() that caused incorrect nest error.

2004-06-17  Atsushi Enomoto <atsushi@ximian.com>

	* RdpPatterns.cs : Quick workaround for infinite loop happening in
	  some kind of recursive expansion.

2004-03-12  Atsushi Enomoto <atsushi@ximian.com>

	* RdpPatterns.cs : Fixed TextDeriv() to allow whitespace text nodes
	  except for Data and Value (though they are overridden).

2004-02-25  Atsushi Enomoto <atsushi@ximian.com>

	* Added RdpContextType.cs.
	* RdpNameClasses.cs,
	  RdpObjects.cs,
	  RdpPatterns.cs,
	  Util.cs : radical design change (too many things to write up).

2003-05-19  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* RdpPattern.cs : Some method name capitalization.
	  Fixed RdpInterleave.StartTagOpenDeriv() which is logically incorrect.

2003-05-05  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* RdpPattern.cs : added RdpAttribute.expandRef(). UnresolvedRef had
	  remained in attribute patterns.

2003-04-29  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* Started.
	* added ChangeLog, RdpNameClasses.cs, RdpObjects.cs, RdpPatterns.cs
	  and Util.cs.


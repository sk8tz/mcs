<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
	<Target Name="GenerateFullAssemblyName">
		<CreateProperty Value="$(AssemblyName).dll" Condition="'$(OutputType)' == 'Library'" >
			<Output TaskParameter="Value" PropertyName="FullAssemblyName" />
		</CreateProperty>

		<CreateProperty Value="$(AssemblyName).exe" Condition="'$(OutputType)' == 'Exe'" >
			<Output TaskParameter="Value" PropertyName="FullAssemblyName" />
		</CreateProperty>

		<CreateProperty Value="$(AssemblyName).exe" Condition="'$(OutputType)' == 'Winexe'" >
			<Output TaskParameter="Value" PropertyName="FullAssemblyName" />
		</CreateProperty>
	</Target>

	<Target Name="AssignWarningLevel">
		<CreateProperty Value="2" Condition="'$(WarningLevel)' == ''">
			<Output TaskParameter="Value" PropertyName="WarningLevel"/>
		</CreateProperty>
	</Target>


	<Target Name="Build" DependsOnTargets="GenerateFullAssemblyName;AssignWarningLevel" >
		<Csc
			DefineConstants="$(DefineConstants)"
			OutputAssembly="$(FullAssemblyName)"
			References="@(Reference)"
			Sources="@(Compile)"
			TargetType="$(OutputType)"
			WarningLevel="$(WarningLevel)"
		/>
	</Target>

</Project>

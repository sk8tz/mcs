<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
	<PropertyGroup>
		<TargetExt Condition="'$(OutputType)' == 'Winexe'">.exe</TargetExt>
		<TargetExt Condition="'$(OutputType)' == 'Exe'">.exe</TargetExt>
		<TargetExt Condition="'$(OutputType)' == 'Library'">.dll</TargetExt>
		<TargetExt Condition="'$(OutputType)' == 'Netmodule'">.netmodule</TargetExt>
	</PropertyGroup>

	<PropertyGroup>
		<AllowUnsafeBlocks Condition="'$(AllowUnsafeBlocks)' == ''">false</AllowUnsafeBlocks>
		<WarningLevel Condition="'$(WarningLevel)' == ''" >2</WarningLevel>
	</PropertyGroup>

	<!-- We are passing references just as they are to Csc task. It can only work with references like:
	System, System.Xml. (that exist in compiler's directory) ResolveAssemblyReferences task should be given
	the references and should output list of .dll/.exe files that should be passed to Csc task.-->

	<Target Name="Build">
		<Csc
			AllowUnsafeBlocks="$(AllowUnsafeBlocks)"
			DefineConstants="$(DefineConstants)"
			NoConfig="true"
			OutputAssembly="$(AssemblyName)$(TargetExt)"
			References="@(Reference)"
			Sources="@(Compile)"
			TargetType="$(OutputType)"
			WarningLevel="$(WarningLevel)"
		/>
	</Target>

</Project>
